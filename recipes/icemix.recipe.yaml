# encoding: utf-8
---
recipe:
  Rx: recipes/icemix
  args: # the default value here is for doc only
    - double=flypy
  description: >-
    `double`: double pinyin dialect for icemix schema
      - flypy（小鹤）[default]
      - zrm（自然码）
      - mspy（微软）
      - sogou（搜狗）
      - abc（智能ABC）
      - jiajia（拼音加加）
      - ziguang（紫光）

install_files: >-
  cn_dicts/*.*
  en_dicts/*.*
  opencc/*.*
  lua/*.*
  lua/cold_word_drop/*.*
  default.yaml
  squirrel.yaml
  weasel.yaml
  rime_ice.schema.yaml
  rime_ice.dict.yaml
  t9.schema.yaml
  icemix_common.yaml
  icemix_zrm.schema.yaml
  icemix_abc.schema.yaml
  icemix_mspy.schema.yaml
  icemix_sogou.schema.yaml
  icemix_flypy.schema.yaml
  icemix_ziguang.schema.yaml
  icemix_jiajia.schema.yaml
  zi.schema.yaml
  zi.dict.yaml
  symbols_v.yaml
  symbols_caps_v.yaml
  radical_pinyin.schema.yaml
  radical_pinyin.dict.yaml
  melt_eng.schema.yaml
  melt_eng.dict.yaml
  custom_phrase.txt

patch_files:
  radical_pinyin.custom.yaml:
    - patch/+:
        # 拆字反查共用对应的混拼方案
        speller/algebra:
          __include: icemix_${double:-flypy}.schema.yaml:speller/algebra
  melt_eng.custom.yaml:
    - patch/+:
        speller/algebra:
          __include: melt_eng.schema.yaml:/algebra_${double:-flypy}
